{"version":3,"sources":["errorboundary.js","actions/config/index.js","components/TrafficLight/index.js","actions/status/index.js","components/TrafficLightContainer/index.js","components/Configuration/index.js","App.js","serviceWorker.js","reducer/rootReducer.js","reducer/configReducer.js","reducer/statusReducer.js","configureStore.js","index.js"],"names":["ErrorBoundary","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","state","error","errorInfo","setState","react_default","a","createElement","className","style","whiteSpace","toString","componentStack","children","Component","LOAD_CONFIG","loadConfig","_ref","asyncToGenerator","regenerator_default","mark","_callee","dispatch","request","wrap","_context","prev","next","axios","get","then","response","status","catch","console","log","sent","type","payload","stop","_x","apply","arguments","FETCH_GROUPS","fetchGroups","url","_ref2","_callee2","_context2","_x2","TrafficLight","flash","time","interval","flashing","bind","assertThisInitialized","Date","now","_this2","setInterval","clearInterval","_this$props","onRedClick","onGreenClick","RedOn","GreenOn","Size","BlackColor","RedColor","DisabledColor","RedDim","GreenColor","GreenDim","objectWithoutProperties","Redc","assign","width","concat","height","viewBox","version","cursor","undefined","id","cx","cy","r","x","y","filterUnits","stdDeviation","in","result","dx","dy","in2","operator","k2","k3","values","fill","rx","fillRule","xlinkHref","onClick","fillOpacity","filter","defaultProps","LOAD_URL_STATUS","loadUrlStatus","checkUrl","TrafficLightContainer","redOn","greenOn","redCounter","start","intervals","dataPolling","duration","parseInt","components_TrafficLight","nextProps","prevState","data","statusCode","connect","_objectSpread","bindActionCreators","Configuration","_Component","inherits","createClass","key","value","_this$props$config","config","groups","matches","match","params","_","mapKeys","name","map","k","v","components_TrafficLightContainer","interval_check","demos","Fragment","group_id","keys","group","react_router_dom","to","renderTrafficList","_this$props2","_this$props2$config","length","renderTraffic","renderConfig","Configuration_objectSpread","App","errorboundary","react_router","path","render","components_Configuration","exact","withRouter","Boolean","window","location","hostname","rootReducer","combineReducers","action","reduce","groupsSoFar","temp","push","initialState","store","createStore","compose","applyMiddleware","thunkMiddleware","es","src_App_0","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.de802401.chunk.js","sourcesContent":["import React, { Component } from \"react\";\n\nclass ErrorBoundary extends Component {\n  constructor(props) {\n    super(props);\n    this.state = { error: null, errorInfo: null };\n  }\n\n  componentDidCatch(error, errorInfo) {\n    this.setState({\n      error: error,\n      errorInfo: errorInfo\n    });\n  }\n\n  render() {\n    if (this.state.errorInfo) {\n      \n      return (\n        <div className=\"container-fluid\">\n          <h2>Something went wrong.</h2>\n          <h4>Please reload page to continue</h4>\n          <details style={{ whiteSpace: \"pre-wrap\" }}>\n            {this.state.error && this.state.error.toString()}\n            <br />\n            {this.state.errorInfo.componentStack}\n          </details>\n        </div>\n      );\n    }\n    return this.props.children;\n  }\n}\n\nexport default ErrorBoundary;\n\n","import axios from \"axios\";\n\nexport const LOAD_CONFIG = \"LOAD_CONFIG\";\n\nexport function loadConfig() {\n  return async function(dispatch) {\n    const request = await axios\n      .get(`http://www.banglarelief.org:9010/config`)\n      .then(response => {\n        return response.status;\n      })\n      .catch(error => {\n        console.log(\"Looks like there was a problem: \\n\", error);\n      });\n                                                    \n    dispatch({\n      type: LOAD_CONFIG,\n      payload: request\n    });\n  };\n}\n\nexport const FETCH_GROUPS = \"FETCH_GROUPS\";\n\nexport function fetchGroups(url) {\n  return async function(dispatch) {\n    const request = await axios\n        .get(url)\n        .then(response => {\n          return response;\n        })\n        .catch(error => {\n          console.log(\"Looks like there was a problem: \\n\", error);\n        });\n                                                    \n    dispatch({\n      type: FETCH_GROUPS,\n      payload: request\n    });\n  };\n}\n\n","import React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\n\nconst scale = 1 / 0.375;\n\nclass TrafficLight extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      flash: false,\n      time: 0\n    };\n    this.interval = null;\n    this.flashing = this.flashing.bind(this);\n  }\n\n  flashing() {\n    const self = this;\n    if (self.props.flash) {\n      self.setState({ time: Date.now(), flash: !self.state.flash });\n    } else {\n      self.setState({ time: Date.now(), flash: false });\n    }\n  }\n  componentDidMount() {\n    this.interval = setInterval(() => {\n      console.log(\"interval\");\n      this.flashing();\n    }, 1000);\n  }\n  componentWillUnmount() {\n    clearInterval(this.interval);\n  }\n\n  render() {\n    const {\n      onRedClick,\n      onGreenClick,\n      RedOn,\n      GreenOn,\n      Size,\n      BlackColor,\n      DisabledColor,\n      RedColor,\n      RedDim,\n      GreenColor,\n      GreenDim,\n      flash,\n      ...props\n    } = this.props;\n\n    let Redc = \"\";\n    if (flash) {\n      if (this.state.flash) {\n        Redc = RedColor;\n      } else {\n        Redc = RedDim;\n      }\n    } else if (RedOn) {\n      Redc = RedColor;\n    } else {\n      Redc = RedDim;\n    }\n\n    return (\n      <svg\n        width={`${Size}px`}\n        height={`${Size * scale}px`}\n        viewBox=\"0 0 60 110\"\n        version=\"1.1\"\n        {...props}\n      >\n        <defs>\n          <circle\n            style={{ cursor: onRedClick ? \"pointer\" : undefined }}\n            id=\"redCirclePath\"\n            cx=\"30\"\n            cy=\"30\"\n            r=\"20\"\n          />\n          <circle\n            style={{ cursor: onGreenClick ? \"pointer\" : undefined }}\n            id=\"greenCirclePath\"\n            cx=\"30\"\n            cy=\"80\"\n            r=\"20\"\n          />\n\n          <filter\n            x=\"-50%\"\n            y=\"-50%\"\n            width=\"200%\"\n            height=\"200%\"\n            filterUnits=\"objectBoundingBox\"\n            id=\"shadowFilter\"\n          >\n            <feGaussianBlur\n              stdDeviation=\"3\"\n              in=\"SourceAlpha\"\n              result=\"shadowBlurInner1\"\n            />\n            <feOffset\n              dx=\"0\"\n              dy=\"4\"\n              in=\"shadowBlurInner1\"\n              result=\"shadowOffsetInner1\"\n            />\n            <feComposite\n              in=\"shadowOffsetInner1\"\n              in2=\"SourceAlpha\"\n              operator=\"arithmetic\"\n              k2=\"-1\"\n              k3=\"1\"\n              result=\"shadowInnerInner1\"\n            />\n            <feColorMatrix\n              values=\"0 0 0 0 0   0 0 0 0 0   0 0 0 0 0  0 0 0 0.5 0\"\n              type=\"matrix\"\n              in=\"shadowInnerInner1\"\n            />\n          </filter>\n        </defs>\n        <rect fill={BlackColor} x=\"0\" y=\"0\" width=\"60\" height=\"110\" rx=\"8\" />\n\n        <use fill={Redc} fillRule=\"evenodd\" xlinkHref=\"#redCirclePath\" />\n        <use\n          fill={GreenOn ? GreenColor : GreenDim}\n          fillRule=\"evenodd\"\n          xlinkHref=\"#greenCirclePath\"\n        />\n\n        <g>\n          <use\n            onClick={onRedClick}\n            fill=\"black\"\n            fillOpacity=\"1\"\n            filter=\"url(#shadowFilter)\"\n            xlinkHref=\"#redCirclePath\"\n          />\n          <use\n            onClick={onGreenClick}\n            fill=\"black\"\n            fillOpacity=\"1\"\n            filter=\"url(#shadowFilter)\"\n            xlinkHref=\"#greenCirclePath\"\n          />\n        </g>\n      </svg>\n    );\n  }\n}\n\nTrafficLight.propTypes = {\n  onRedClick: PropTypes.func,\n  onGreenClick: PropTypes.func,\n  RedOn: PropTypes.bool,\n  GreenOn: PropTypes.bool,\n  Size: PropTypes.number,\n  BlackColor: PropTypes.string,\n  DisabledColor: PropTypes.string,\n  RedColor: PropTypes.string,\n  GreenColor: PropTypes.string\n};\n\nTrafficLight.defaultProps = {\n  onRedClick: undefined,\n  onGreenClick: undefined,\n  RedOn: false,\n  GreenOn: false,\n  Size: 60,\n  BlackColor: \"#000000\",\n  DisabledColor: \"#4A4A4A\",\n  RedColor: \"#FF0000\",\n  RedDim: \"#FF7777\",\n  GreenColor: \"#48FF00\",\n  GreenDim: \"#C2FFAA\",\n  flash: false\n};\n\nexport default TrafficLight;\n\n","import axios from \"axios\";\n\nexport const LOAD_URL_STATUS = \"LOAD_URL_STATUS\";\n\nexport function loadUrlStatus(url, interval) {\n  const checkUrl = `http://www.banglarelief.org:9010/health/${url}`;\n  return async function(dispatch) {\n    const request = await axios\n      .get(checkUrl)\n      .then(response => {\n        return response;\n      })\n      .catch(error => {\n        console.log(\"Looks like there was a problem: \\n\", error);\n      });\n    dispatch({\n      type: LOAD_URL_STATUS,\n      payload: request\n    });\n  };\n}\n\n","import React, { Component } from \"react\";\nimport TrafficLight from \"../TrafficLight\";\nimport { connect } from \"react-redux\";\nimport { loadUrlStatus } from \"../../actions/status\";\nimport { bindActionCreators } from \"redux\";\n\nclass TrafficLightContainer extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      redOn: false,\n      greenOn: false,\n      redCounter: 0,\n      time: 0,\n      start: 0,\n      intervals: 0,\n      flash: false\n    };\n    this.interval = null;\n    this.dataPolling = null;\n  }\n\n  componentDidMount() {\n    const { duration, url } = this.props;\n    this.setState({ start: Date.now() });\n\n    this.dataPolling = setInterval(() => {\n      const { intervals } = this.state;\n      this.props.loadUrlStatus(url, intervals);\n      this.setState({ intervals: intervals + 1 });\n    }, parseInt(duration) * 1000);\n\n    this.interval = setInterval(\n      () => this.setState({ time: Date.now() }),\n      1000\n    );\n  }\n\n  componentWillUnmount() {\n    clearInterval(this.dataPolling);\n    clearInterval(this.interval);\n  }\n\n  static getDerivedStateFromProps(nextProps, prevState) {\n    const {\n      status: { data }\n    } = nextProps;\n    const { start, time, redCounter, intervals, flash } = prevState;\n\n    if (data.interval !== undefined && data.interval !== intervals) {\n      let flashing = false;\n      if (data.statusCode === 200) {\n        return {\n          greenOn: true,\n          redOn: false,\n          start: Date.now(),\n          flash: flashing,\n          redCounter: 0\n        };\n      } else if (data.statusCode !== 200) {\n        if (redCounter >= 3) {\n          if ((time - start) / 1000 > 5) {\n            flashing = true;\n          }\n          return {\n            greenOn: false,\n            redOn: true,\n            redCounter: redCounter + 1,\n            flash: flashing\n          };\n        } else {\n          return {\n            greenOn: false,\n            redOn: true,\n            redCounter: redCounter + 1,\n            flash: flashing\n          };\n        }\n      }\n    }\n    return null;\n  }\n\n  render() {\n    return (\n      <TrafficLight\n        Size={50}\n        RedOn={this.state.redOn}\n        GreenOn={this.state.greenOn}\n        flash={this.state.flash}\n        time={this.state.time}\n      />\n    );\n  }\n}\n\nconst mapStateToProps = state => ({\n  ...state\n});\nconst mapDispatchToProps = dispatch => {\n  return bindActionCreators(\n    {\n      loadUrlStatus\n    },\n    dispatch\n  );\n};\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(TrafficLightContainer);\n\n","import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { bindActionCreators } from \"redux\";\nimport { loadConfig, fetchGroups } from \"../../actions/config\";\nimport { Link } from \"react-router-dom\";\nimport _ from \"lodash\";\nimport TrafficLightContainer from \"../TrafficLightContainer\";\n\nexport class Configuration extends Component {\n  componentDidMount() {\n    this.props.loadConfig();\n    this.props.fetchGroups();\n  }\n\n  renderTraffic() {\n    const {\n      config: { data, groups },\n      matches: {\n        match: {\n          params: { id }\n        }\n      }\n    } = this.props;\n\n    const items = data[_.mapKeys(groups, \"id\")[id].name];\n    return items.map((k, v) => {\n      return (\n        <div className=\"col-xs-12 col-md-3\">\n          <div>\n            <TrafficLightContainer url={k.url} duration={k.interval_check} />\n          </div>\n          <div>{k.url}</div>\n        </div>\n      );\n    });\n  }\n\n  renderTrafficList(demos) {\n    return demos.map((k, v) => {\n      return (\n        <>\n          <ul>\n            <li key={k.group_id + k.url + v}>id: {k.group_id}</li>\n            <li>url: {k.url}</li>\n            <li>interval check: {k.interval_check}</li>\n          </ul>\n        </>\n      );\n    });\n  }\n\n  renderConfig(data) {\n    const {\n      config: { groups }\n    } = this.props;\n    return Object.keys(data).map((value, key) => {\n      const demos = data[value];\n      const group = _.mapKeys(groups, \"name\")[value];\n      return (\n        <div className=\"top-buffer\" key={group.id + value + key}>\n          <h4>\n            <Link to={`/health/${group.id}`}>{value}</Link>\n          </h4>\n          {this.renderTrafficList(demos)}\n        </div>\n      );\n    });\n  }\n\n  render() {\n    const {\n      config: { data, groups },\n      matches: {\n        match: {\n          params: { id }\n        }\n      }\n    } = this.props;\n\n    if (\n      id !== undefined &&\n      parseInt(id) > 0 &&\n      groups !== undefined &&\n      Object.keys(groups).length > 0\n    ) {\n      return (\n        <div className=\"container-fluid\">\n          <header>\n            <h2 className=\"text-center top-buffer\">\n              Configuration {_.mapKeys(groups, \"id\")[id].name}\n            </h2>\n          </header>\n          <div className=\"row-fluid\">{this.renderTraffic()}</div>\n        </div>\n      );\n    } else {\n      return (\n        <div className=\"container-fluid\">\n          <header>\n            <h1 className=\"text-center top-buffer\">Health Check</h1>\n          </header>\n          <div className=\"row-fluid\">\n            Page is used to check health of external services. The following\n            configurations are available to load\n          </div>\n          <div className=\"row-fluid\">{this.renderConfig(data)}</div>\n        </div>\n      );\n    }\n  }\n}\n\nfunction mapStateToProps(state) {\n  return {\n    ...state\n  };\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return bindActionCreators({ loadConfig, fetchGroups }, dispatch);\n}\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(Configuration);\n\n","import React, { Component } from \"react\";\nimport { Switch, Route, withRouter } from \"react-router-dom\";\nimport ErrorBoundary from \"./errorboundary\";\nimport \"./App.css\";\nimport Configuration from \"./components/Configuration\";\n\nclass App extends Component {\n  render() {\n    return (\n      <div className=\"App\">\n        <ErrorBoundary>\n          <Switch>\n            <Route\n              path=\"/health/:id\"\n              render={match => (\n                <Configuration matches={match} {...this.props} />\n              )}\n            />\n            <Route\n              exact\n              path=\"/\"\n              render={match => (\n                <Configuration matches={match} {...this.props} />\n              )}\n            />\n          </Switch>\n        </ErrorBoundary>\n      </div>\n    );\n  }\n}\n\nexport default withRouter(App);\n\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import { combineReducers } from \"redux\";\nimport configReducer from \"./configReducer\";\nimport statusReducer from \"./statusReducer\";\n\nconst rootReducer = combineReducers({\n  config: configReducer,\n  status: statusReducer\n});\nexport default rootReducer;\n\n","import _ from \"lodash\";\nimport { FETCH_GROUPS, LOAD_CONFIG } from \"../actions/config\";\n\nexport default function reducer(\n  state = {\n    data: [],\n    groups: []\n  },\n  action\n) {\n  switch (action.type) {\n    case LOAD_CONFIG: {\n      const groups = action.payload.reduce(\n        (groupsSoFar, { group_id, name, url, interval_check }) => {\n          if (!groupsSoFar[name]) groupsSoFar[name] = [];\n          const temp = { group_id, name, url, interval_check };\n          groupsSoFar[name].push(temp);\n          return groupsSoFar;\n        },\n        {}\n      );\n      return Object.assign({}, state, {\n        data: groups\n      });\n    }\n    case FETCH_GROUPS: {\n      return Object.assign({}, state, {\n        groups: action.payload\n      });\n    }\n    default: {\n      return state;\n    }\n  }\n}\n\n","import { LOAD_URL_STATUS } from \"../actions/status\";\n\nexport default function reducer(\n  state = {\n    data: []\n  },\n  action\n) {\n  switch (action.type) {\n    case LOAD_URL_STATUS: {\n      return Object.assign({}, state, {\n        data: action.payload\n      });\n    }\n    default: {\n      return state;\n    }\n  }\n}\n\n","import { applyMiddleware, createStore, compose } from \"redux\";\nimport thunkMiddleware from \"redux-thunk\";\nimport rootReducer from \"./reducer/rootReducer\";\nexport default function configureStore(initialState) {\n  return createStore(\n    rootReducer,\n    initialState,\n    compose(applyMiddleware(thunkMiddleware))\n  );\n}\n\n","import React from 'react';\nimport { render } from 'react-dom'\nimport './index.css';\nimport { BrowserRouter } from \"react-router-dom\";\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport { Provider } from 'react-redux';\nimport configureStore from './configureStore'\nimport \"bootstrap/dist/css/bootstrap.css\";\n\nconst store = configureStore();\n\nconst renderApp = () =>\n  render(\n    <Provider store={store}>\n      <BrowserRouter>\n        <App />\n      </BrowserRouter>\n    </Provider>,\n    document.getElementById(\"root\")\n  );\n\nif (process.env.NODE_ENV !== \"production\" && module.hot) {\n  module.hot.accept(\"./App\", renderApp);\n}\n\nrenderApp();\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}